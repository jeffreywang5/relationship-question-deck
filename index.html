<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Relationship Question Deck üíû</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    height: 100vh;
    margin: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
  }
  h1 {
    color: #fff;
    font-size: 2.2em;
    margin-bottom: 20px;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
  }

  /* Card container */
  .card {
    width: 90%;
    max-width: 500px;
    min-height: 150px;
    perspective: 1000px;
    margin-bottom: 20px;
  }

  /* Card inner for flip effect */
  .card-inner {
    background: white;
    color: #333;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.3);
    font-size: 1.3em;
    display: flex;
    justify-content: center;
    align-items: center;
    transform-style: preserve-3d;
    transition: transform 0.6s ease-in-out;
    position: relative;
  }

  /* Card flip */
  .card.show .card-inner {
    transform: rotateY(180deg);
    animation: bounce 0.5s ease;
  }

  @keyframes bounce {
    0% { transform: rotateY(180deg) scale(0.9); }
    50% { transform: rotateY(180deg) scale(1.05); }
    100% { transform: rotateY(180deg) scale(1); }
  }

  /* Card front/back content */
  .card-front, .card-back {
    position: absolute;
    backface-visibility: hidden;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 20px;
    padding: 15px;
    text-align: center;
    box-sizing: border-box;
  }

  .card-front {
    background: #fff;
    color: #333;
    font-weight: 500;
  }

  .card-back {
    background: linear-gradient(135deg, #ff758c, #ff7eb3);
    color: #fff;
    font-weight: 600;
    font-size: 1.2em;
    transform: rotateY(180deg);
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  }

  button {
    background: linear-gradient(45deg, #ff6f91, #ff9472);
    color: white;
    border: none;
    border-radius: 30px;
    padding: 12px 25px;
    font-size: 1em;
    margin: 10px;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }
  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
  }

  #add-container {
    margin-top: 15px;
  }
  input {
    padding: 10px;
    border-radius: 15px;
    border: none;
    width: 70%;
    margin-right: 5px;
    font-size: 1em;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
  }
</style>
</head>
<body>
<h1>üíû Relationship Question Deck üíû</h1>

<div class="card" id="questionCard">
  <div class="card-inner">
    <div class="card-front">Click below to draw a question!</div>
    <div class="card-back" id="cardBack"></div>
  </div>
</div>

<button id="drawButton">üé¥ Draw Question</button>
<button id="resetButton">üîÅ Reset Deck</button>

<div id="add-container">
  <input id="newQuestion" placeholder="Add your own question..." />
  <button id="addButton">‚ûï Add</button>
</div>

<script>
const defaultQuestions = [
"1. What made you feel most loved this week?",
"2. What do you find most attractive about me?",
"3. What‚Äôs one fantasy you‚Äôve never shared?",
"4. What‚Äôs your favorite memory together?",
"5. When did you first know you loved me?",
"6. What‚Äôs something new you‚Äôd like to try together?",
"7. How can I make you feel more appreciated?",
"8. What song reminds you of us?",
"9. What‚Äôs your love language?",
"10. If we could teleport anywhere for a date, where would we go?",
// ‚Ä¶ (Include all 170 questions here exactly like the previous full list)
"170. What‚Äôs your favorite way to say ‚ÄòI love you‚Äô?"
];

let questions = JSON.parse(localStorage.getItem('questions')) || [...defaultQuestions];
let usedQuestions = JSON.parse(localStorage.getItem('usedQuestions')) || [];

const questionCard = document.getElementById('questionCard');
const cardBack = document.getElementById('cardBack');
const drawButton = document.getElementById('drawButton');
const resetButton = document.getElementById('resetButton');
const addButton = document.getElementById('addButton');
const newQuestionInput = document.getElementById('newQuestion');

function saveState() {
  localStorage.setItem('questions', JSON.stringify(questions));
  localStorage.setItem('usedQuestions', JSON.stringify(usedQuestions));
}

function drawQuestion() {
  if (questions.length === 0) {
    cardBack.textContent = "üéâ You've gone through all the questions! Reset to start over.";
  } else {
    const index = Math.floor(Math.random() * questions.length);
    const question = questions.splice(index, 1)[0];
    usedQuestions.push(question);
    cardBack.textContent = question;
  }

  questionCard.classList.remove('show');
  void questionCard.offsetWidth; // reset animation
  questionCard.classList.add('show');

  saveState();
}

function resetDeck() {
  questions = [...defaultQuestions];
  usedQuestions = [];
  cardBack.textContent = "";
  questionCard.classList.remove('show');
  saveState();
}

function addQuestion() {
  const q = newQuestionInput.value.trim();
  if (q) {
    questions.push(q);
    newQuestionInput.value = '';
    saveState();
    alert('Question added! You can draw it now.');
  }
}

drawButton.addEventListener('click', drawQuestion);
resetButton.addEventListener('click', resetDeck);
addButton.addEventListener('click', addQuestion);
</script>
</body>
</html>
